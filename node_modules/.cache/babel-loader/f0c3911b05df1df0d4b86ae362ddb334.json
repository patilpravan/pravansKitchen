{"ast":null,"code":"import _objectSpread from\"C:/Users/Shree/Desktop/ReactProject/pravanskitchen/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Shree/Desktop/ReactProject/pravanskitchen/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from\"react\";import classes from\"./Cart.module.css\";import Modal from\"../UI/Modal\";import CartContext from\"../../store/cart-context\";import CartItem from\"./CartItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),orderPlaced=_useState2[0],setOrderPlaced=_useState2[1];var cartCtx=useContext(CartContext);var totalAmount=\"Rs. \".concat(cartCtx.totalAmount);var hasItems=cartCtx.items.length>0;var cartItemRemoveHandler=function cartItemRemoveHandler(id){cartCtx.removeItem(id);};var cartItemAddHandler=function cartItemAddHandler(item){cartCtx.addItem(_objectSpread(_objectSpread({},item),{},{amount:1}));};var orderClickHandler=function orderClickHandler(){setOrderPlaced(true);cartCtx.clearCart();setTimeout(function(){setOrderPlaced(false);props.onClose();},3000);};var cartItems=/*#__PURE__*/_jsx(\"ul\",{className:classes['cart-items'],children:cartCtx.items.map(function(item){return/*#__PURE__*/_jsx(CartItem,{name:item.name,amount:item.amount,price:item.price,onRemove:cartItemRemoveHandler.bind(null,item.id),onAdd:cartItemAddHandler.bind(null,item)},item.id);})});return/*#__PURE__*/_jsxs(\"div\",{children:[!orderPlaced&&/*#__PURE__*/_jsxs(Modal,{onClose:props.onClose,children:[/*#__PURE__*/_jsx(\"div\",{children:cartItems}),/*#__PURE__*/_jsxs(\"div\",{className:classes.total,children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Amount\"}),/*#__PURE__*/_jsx(\"span\",{children:totalAmount})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.actions,children:[/*#__PURE__*/_jsx(\"button\",{className:classes['button--alt'],onClick:props.onClose,children:\"Close\"}),hasItems&&/*#__PURE__*/_jsx(\"button\",{className:classes.button,onClick:orderClickHandler,children:\"Order\"})]})]}),orderPlaced&&/*#__PURE__*/_jsx(Modal,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\" Your Order has been Placed !!! \"}),/*#__PURE__*/_jsx(\"h5\",{children:\" Thank you for ordering from Us !\"})]})})]});};export default Cart;","map":{"version":3,"names":["React","useContext","useState","classes","Modal","CartContext","CartItem","Cart","props","orderPlaced","setOrderPlaced","cartCtx","totalAmount","hasItems","items","length","cartItemRemoveHandler","id","removeItem","cartItemAddHandler","item","addItem","amount","orderClickHandler","clearCart","setTimeout","onClose","cartItems","map","name","price","bind","total","actions","button"],"sources":["C:/Users/Shree/Desktop/ReactProject/pravanskitchen/src/components/Cart/Cart.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport classes from \"./Cart.module.css\"\r\nimport Modal from \"../UI/Modal\";\r\nimport CartContext from \"../../store/cart-context\";\r\nimport CartItem from \"./CartItem\";\r\n\r\n\r\n\r\nconst Cart = (props) => {\r\n    const [orderPlaced, setOrderPlaced] = useState(false);\r\n\r\n    const cartCtx = useContext(CartContext);\r\n    const totalAmount = `Rs. ${cartCtx.totalAmount}`;\r\n    const hasItems = cartCtx.items.length > 0;\r\n\r\n    const cartItemRemoveHandler = (id) => {\r\n        cartCtx.removeItem(id);\r\n    }\r\n\r\n    const cartItemAddHandler = (item) => {\r\n        cartCtx.addItem({ ...item, amount: 1 });\r\n    }\r\n    const orderClickHandler = () => {\r\n        setOrderPlaced(true)\r\n        cartCtx.clearCart();\r\n\r\n        setTimeout(() => {\r\n            setOrderPlaced(false);\r\n            props.onClose();\r\n        }, 3000)\r\n\r\n\r\n    }\r\n\r\n    const cartItems = (<ul className={classes['cart-items']}>{cartCtx.items.map(\r\n        (item) => (<CartItem\r\n            key={item.id}\r\n            name={item.name}\r\n            amount={item.amount}\r\n            price={item.price}\r\n            onRemove={cartItemRemoveHandler.bind(null, item.id)}\r\n            onAdd={cartItemAddHandler.bind(null, item)} />\r\n        ))}</ul>)\r\n\r\n    return <div>{!orderPlaced && <Modal onClose={props.onClose}>\r\n        <div>{cartItems}</div>\r\n        <div className={classes.total}>\r\n            <span>Total Amount</span>\r\n            <span>{totalAmount}</span>\r\n        </div>\r\n        <div className={classes.actions}>\r\n            <button className={classes['button--alt']} onClick={props.onClose}>Close</button>\r\n            {hasItems && <button className={classes.button} onClick={orderClickHandler}>Order</button>}\r\n        </div>\r\n    </Modal>}\r\n        {orderPlaced && <Modal><div><h3> Your Order has been Placed !!! </h3><h5> Thank you for ordering from Us !</h5></div></Modal>}\r\n    </div>\r\n\r\n}\r\n\r\nexport default Cart;"],"mappings":"+QAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,MAAOC,QAAP,KAAoB,mBAApB,CACA,MAAOC,MAAP,KAAkB,aAAlB,CACA,MAAOC,YAAP,KAAwB,0BAAxB,CACA,MAAOC,SAAP,KAAqB,YAArB,C,wFAIA,GAAMC,KAAI,CAAG,QAAPA,KAAO,CAACC,KAAD,CAAW,CACpB,cAAsCN,QAAQ,CAAC,KAAD,CAA9C,wCAAOO,WAAP,eAAoBC,cAApB,eAEA,GAAMC,QAAO,CAAGV,UAAU,CAACI,WAAD,CAA1B,CACA,GAAMO,YAAW,eAAUD,OAAO,CAACC,WAAlB,CAAjB,CACA,GAAMC,SAAQ,CAAGF,OAAO,CAACG,KAAR,CAAcC,MAAd,CAAuB,CAAxC,CAEA,GAAMC,sBAAqB,CAAG,QAAxBA,sBAAwB,CAACC,EAAD,CAAQ,CAClCN,OAAO,CAACO,UAAR,CAAmBD,EAAnB,EACH,CAFD,CAIA,GAAME,mBAAkB,CAAG,QAArBA,mBAAqB,CAACC,IAAD,CAAU,CACjCT,OAAO,CAACU,OAAR,gCAAqBD,IAArB,MAA2BE,MAAM,CAAE,CAAnC,IACH,CAFD,CAGA,GAAMC,kBAAiB,CAAG,QAApBA,kBAAoB,EAAM,CAC5Bb,cAAc,CAAC,IAAD,CAAd,CACAC,OAAO,CAACa,SAAR,GAEAC,UAAU,CAAC,UAAM,CACbf,cAAc,CAAC,KAAD,CAAd,CACAF,KAAK,CAACkB,OAAN,GACH,CAHS,CAGP,IAHO,CAAV,CAMH,CAVD,CAYA,GAAMC,UAAS,cAAI,WAAI,SAAS,CAAExB,OAAO,CAAC,YAAD,CAAtB,UAAuCQ,OAAO,CAACG,KAAR,CAAcc,GAAd,CACtD,SAACR,IAAD,qBAAW,KAAC,QAAD,EAEP,IAAI,CAAEA,IAAI,CAACS,IAFJ,CAGP,MAAM,CAAET,IAAI,CAACE,MAHN,CAIP,KAAK,CAAEF,IAAI,CAACU,KAJL,CAKP,QAAQ,CAAEd,qBAAqB,CAACe,IAAtB,CAA2B,IAA3B,CAAiCX,IAAI,CAACH,EAAtC,CALH,CAMP,KAAK,CAAEE,kBAAkB,CAACY,IAAnB,CAAwB,IAAxB,CAA8BX,IAA9B,CANA,EACFA,IAAI,CAACH,EADH,CAAX,EADsD,CAAvC,EAAnB,CAUA,mBAAO,uBAAM,CAACR,WAAD,eAAgB,MAAC,KAAD,EAAO,OAAO,CAAED,KAAK,CAACkB,OAAtB,wBACzB,qBAAMC,SAAN,EADyB,cAEzB,aAAK,SAAS,CAAExB,OAAO,CAAC6B,KAAxB,wBACI,sCADJ,cAEI,sBAAOpB,WAAP,EAFJ,GAFyB,cAMzB,aAAK,SAAS,CAAET,OAAO,CAAC8B,OAAxB,wBACI,eAAQ,SAAS,CAAE9B,OAAO,CAAC,aAAD,CAA1B,CAA2C,OAAO,CAAEK,KAAK,CAACkB,OAA1D,mBADJ,CAEKb,QAAQ,eAAI,eAAQ,SAAS,CAAEV,OAAO,CAAC+B,MAA3B,CAAmC,OAAO,CAAEX,iBAA5C,mBAFjB,GANyB,GAAtB,CAWFd,WAAW,eAAI,KAAC,KAAD,wBAAO,oCAAK,wDAAL,cAA8C,yDAA9C,GAAP,EAXb,GAAP,CAcH,CAlDD,CAoDA,cAAeF,KAAf"},"metadata":{},"sourceType":"module"}